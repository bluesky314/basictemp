<!DOCTYPE html>
<head>
    <title>
        First Script
    </title>
    <script>
        var mysql = require('mysql');
    
    </script>
</head>

<body>
    <h1>Where is the ISIS?</h1>

    <p>
      latitude: <span id="lat"></span>°<br />  <!-- as we want to enter somthing mid line we create span tag -->
      longitude: <span id="lon"></span>°
    </p>
    <script>
    var con = mysql.createConnection({
        user:'root', password:'5@m@y!nF0tech',
        host:'3.109.4.207',
        database:'SamayAgriTech'
    });

    con.connect(function(err) {
        if (err) throw err;
        console.log("SQL Connected!");
        });
        
    // set_values()

    
    
    async function getData(){ // calls api and sets span value to response
        const api_url = 'https://api.wheretheiss.at/v1/satellites/25544';
        const response = await fetch(api_url);
        const data = await response.json();
        const {longitude,latitude}=data;
        console.log(longitude,latitude)
        document.getElementById('lat').textContent = latitude  // round to 2 floating point
        document.getElementById('lon').textContent = longitude 

        return longitude,latitude
    }
    async function set_values(){
        var {longitude,latitude} = setInterval(getData,3000) // calls getData every 3000ms(3s) 
   
    }


    </script>

</body>


